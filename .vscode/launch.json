{
    "version": "0.2.0",
    "configurations": [
        {"name":"Python Debugger: Current File","type":"debugpy","request":"launch","program":"${file}","console":"integratedTerminal"},
        

        {
            "name": "PyTorch Distributed (Modern torchrun)",
            "type": "debugpy",
            "request": "launch",
            // [修改点 1] 使用 "module" 代替 "program"
            "module": "torch.distributed.run",
            "console": "integratedTerminal",
            "args": [
                // [修改点 2] "torch.distributed.run" 的参数与 "launch.py" 相同
                "--nproc_per_node=1",
                "--master_port=29600",
                "opengait/main.py", // 您的主脚本现在是 torchrun 的一个参数
                "--cfgs", "configs/biggait/BigGait_Simple_CCGR.yaml",
                "--phase", "train",
                "--log_to_file"
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
                "NCCL_P2P_DISABLE": "1"
            },
            "cwd": "${workspaceFolder}",
            "justMyCode": false
        }
    ]
}